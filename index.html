<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mamata Yadav - Data Scientist & AI Developer</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --primary: #a78bfa; --secondary: #818cf8; --accent: #c084fc;
            --text: #e5e7eb; --dark-bg: #0f172a; --card-bg: rgba(30, 41, 59, 0.7);
            --glass-bg: rgba(30, 41, 59, 0.4); --shadow: rgba(167, 139, 250, 0.3);
        }
        body { font-family: 'Poppins', sans-serif; color: var(--text); background: #0a0e1a; overflow-x: hidden; }
        .animated-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; }
        .gradient-orb { position: absolute; border-radius: 50%; filter: blur(80px); opacity: 0.6; animation: float 20s infinite ease-in-out; }
        .orb1 { width: 500px; height: 500px; background: radial-gradient(circle, rgba(167, 139, 250, 0.4), transparent); top: -200px; left: -200px; }
        .orb2 { width: 400px; height: 400px; background: radial-gradient(circle, rgba(129, 140, 248, 0.3), transparent); bottom: -150px; right: -150px; animation-delay: 7s; }
        .orb3 { width: 350px; height: 350px; background: radial-gradient(circle, rgba(192, 132, 252, 0.35), transparent); top: 50%; right: 10%; animation-delay: 14s; }
        @keyframes float { 0%, 100% { transform: translate(0, 0) scale(1); } 33% { transform: translate(100px, -100px) scale(1.1); } 66% { transform: translate(-50px, 100px) scale(0.9); } }
        .particles { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; }
        .particle { position: absolute; width: 4px; height: 4px; background: rgba(167, 139, 250, 0.8); border-radius: 50%; box-shadow: 0 0 10px rgba(167, 139, 250, 0.5); animation: twinkle 2s infinite alternate; }
        @keyframes twinkle { 0% { opacity: 0.3; } 100% { opacity: 1; } }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; position: relative; z-index: 2; }
        nav { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); width: calc(100% - 40px); max-width: 1200px; background: rgba(30, 41, 59, 0.3); backdrop-filter: blur(20px); border: 1px solid rgba(167, 139, 250, 0.2); border-radius: 20px; z-index: 1000; padding: 15px 30px; }
        nav .nav-container { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px; }
        .logo { font-size: 1.5rem; font-weight: 700; background: linear-gradient(135deg, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .nav-buttons { display: flex; gap: 10px; }
        .edit-mode-toggle { background: linear-gradient(135deg, var(--primary), var(--accent)); border: none; padding: 10px 20px; border-radius: 25px; color: white; cursor: pointer; font-weight: 600; font-family: 'Poppins', sans-serif; }
        .edit-mode-toggle.active { background: linear-gradient(135deg, #ef4444, #dc2626); }
        section { min-height: 100vh; display: flex; align-items: center; padding: 120px 0 80px; position: relative; }
        .hero { text-align: center; }
        .profile-img { width: 220px; height: 220px; border-radius: 50%; background: linear-gradient(135deg, var(--primary), var(--accent)); display: flex; align-items: center; justify-content: center; font-size: 5rem; color: white; margin: 0 auto 30px; animation: profileFloat 4s ease-in-out infinite; border: 4px solid rgba(167, 139, 250, 0.3); overflow: hidden; }
        @keyframes profileFloat { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
        .profile-img img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }
        h1 { font-size: 3.5rem; margin-bottom: 10px; background: linear-gradient(135deg, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .subtitle { font-size: 1.6rem; color: var(--accent); margin-bottom: 20px; }
        .description { font-size: 1.1rem; margin-bottom: 30px; opacity: 0.9; max-width: 700px; margin-left: auto; margin-right: auto; }
        .social-links { display: flex; gap: 20px; justify-content: center; margin-top: 30px; }
        .social-links a { width: 55px; height: 55px; border-radius: 50%; background: var(--glass-bg); display: flex; align-items: center; justify-content: center; color: var(--primary); font-size: 1.3rem; transition: all 0.4s ease; border: 1px solid rgba(167, 139, 250, 0.2); }
        .social-links a:hover { transform: translateY(-10px); background: linear-gradient(135deg, var(--primary), var(--accent)); color: white; }
        .info-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-top: 60px; }
        .card { background: var(--glass-bg); backdrop-filter: blur(20px); padding: 35px; border-radius: 25px; border: 1px solid rgba(167, 139, 250, 0.2); transition: all 0.4s ease; }
        .card:hover { transform: translateY(-15px); border-color: rgba(167, 139, 250, 0.5); }
        .card h3 { color: var(--primary); margin-bottom: 20px; font-size: 1.5rem; display: flex; align-items: center; gap: 10px; }
        .card-item { margin-bottom: 15px; padding-left: 20px; position: relative; }
        .card-item::before { content: '→'; position: absolute; left: 0; color: var(--primary); }
        .section-title { text-align: center; font-size: 3rem; margin-bottom: 60px; background: linear-gradient(135deg, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .projects-grid, .blogs-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 35px; }
        .project-card, .blog-card { background: var(--glass-bg); backdrop-filter: blur(20px); border-radius: 25px; overflow: hidden; border: 1px solid rgba(167, 139, 250, 0.2); transition: all 0.4s ease; position: relative; }
        .project-card:hover, .blog-card:hover { transform: translateY(-20px); border-color: rgba(167, 139, 250, 0.6); }
        .project-img, .blog-img { width: 100%; height: 220px; background: linear-gradient(135deg, var(--primary), var(--secondary)); display: flex; align-items: center; justify-content: center; color: white; font-size: 3.5rem; }
        .project-content, .blog-content { padding: 28px; }
        .project-category { display: inline-block; padding: 6px 16px; background: rgba(167, 139, 250, 0.2); color: var(--primary); border-radius: 20px; font-size: 0.85rem; margin-bottom: 12px; }
        .project-title, .blog-title { font-size: 1.4rem; margin-bottom: 12px; color: var(--accent); }
        .project-skills { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 18px; }
        .skill-tag { padding: 6px 14px; background: linear-gradient(135deg, rgba(167, 139, 250, 0.3), rgba(129, 140, 248, 0.3)); color: white; border-radius: 20px; font-size: 0.85rem; }
        .btn { padding: 12px 24px; border-radius: 25px; text-decoration: none; font-weight: 500; border: none; cursor: pointer; display: inline-flex; align-items: center; gap: 8px; font-family: 'Poppins', sans-serif; transition: all 0.3s ease; }
        .btn-primary { background: linear-gradient(135deg, var(--primary), var(--accent)); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 5px 20px var(--shadow); }
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9); padding: 20px; overflow-y: auto; }
        .modal.active { display: flex; justify-content: center; align-items: center; }
        .modal-content { background: var(--card-bg); padding: 40px; border-radius: 25px; max-width: 700px; width: 100%; max-height: 90vh; overflow-y: auto; border: 1px solid rgba(167, 139, 250, 0.3); }
        .modal-content h2 { color: var(--primary); margin-bottom: 25px; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; color: var(--text); }
        .form-group input, .form-group textarea { width: 100%; padding: 12px; border-radius: 12px; border: 1px solid rgba(167, 139, 250, 0.3); background: rgba(15, 23, 42, 0.5); color: var(--text); font-family: 'Poppins', sans-serif; font-size: 1rem; }
        .form-group textarea { min-height: 100px; resize: vertical; }
        .form-actions { display: flex; gap: 12px; justify-content: flex-end; margin-top: 30px; }
        footer { background: var(--glass-bg); padding: 50px 0; text-align: center; border-top: 1px solid rgba(167, 139, 250, 0.2); position: relative; z-index: 2; }
        .edit-btn { position: absolute; top: 15px; right: 100px; background: rgba(15, 23, 42, 0.95); border: 1px solid var(--primary); color: var(--primary); padding: 8px 16px; border-radius: 20px; cursor: pointer; display: none; z-index: 10; font-family: 'Poppins', sans-serif; }
        .delete-btn { position: absolute; top: 15px; right: 15px; background: rgba(15, 23, 42, 0.95); border: 1px solid #ef4444; color: #ef4444; padding: 8px 16px; border-radius: 20px; cursor: pointer; display: none; z-index: 10; font-family: 'Poppins', sans-serif; }
        .edit-mode .edit-btn, .edit-mode .delete-btn { display: block; }
        .add-new-btn { background: linear-gradient(135deg, var(--primary), var(--accent)); color: white; border: none; padding: 15px 35px; border-radius: 30px; cursor: pointer; font-weight: 600; display: none; margin: 0 auto 40px; font-family: 'Poppins', sans-serif; align-items: center; gap: 8px; }
        .edit-mode .add-new-btn { display: inline-flex; }
        @media (max-width: 768px) { 
            h1 { font-size: 2.5rem; } 
            .info-cards, .projects-grid, .blogs-grid { grid-template-columns: 1fr; }
            .nav-container { flex-direction: column; align-items: stretch; }
            .logo { text-align: center; }
        }
    </style>
</head>
<body>
    <div class="animated-bg">
        <div class="gradient-orb orb1"></div>
        <div class="gradient-orb orb2"></div>
        <div class="gradient-orb orb3"></div>
    </div>
    <div class="particles" id="particles"></div>

    <div class="modal" id="passwordModal">
        <div class="modal-content" style="max-width: 400px; text-align: center;">
            <h2><i class="fas fa-lock"></i> Admin Access</h2>
            <p>Enter password: admin123</p>
            <input type="password" id="adminPassword" style="margin: 20px 0; text-align: center;" onkeypress="if(event.key==='Enter') verifyPassword()">
            <p id="passwordError" style="color: #ef4444; display: none;">Incorrect password!</p>
            <div class="form-actions">
                <button class="btn" onclick="closePasswordModal()">Cancel</button>
                <button class="btn btn-primary" onclick="verifyPassword()">Unlock</button>
            </div>
        </div>
    </div>

    <nav>
        <div class="nav-container">
            <div class="logo" id="logoText">Mamata Yadav</div>
            <div class="nav-buttons">
                <button class="add-new-btn" style="display: none; margin: 0; padding: 10px 20px;" onclick="openHomeModal()"><i class="fas fa-user-edit"></i> Edit Profile</button>
                <button class="edit-mode-toggle" id="editModeBtn" onclick="requestEditMode()"><i class="fas fa-edit"></i> Edit Mode</button>
            </div>
        </div>
    </nav>

    <section id="home" class="hero">
        <div class="container">
            <div class="profile-img" id="profileImg"><i class="fas fa-user"></i></div>
            <h1 id="heroName">Mamata Yadav</h1>
            <p class="subtitle" id="heroTitle">Data Scientist & AI Developer</p>
            <p class="description" id="heroDesc">Passionate about transforming data into actionable insights and building intelligent systems.</p>
            <div class="social-links" id="heroSocial"></div>
            <div class="info-cards" id="infoCards"></div>
        </div>
    </section>

    <section id="projects">
        <div class="container">
            <h2 class="section-title">My Projects</h2>
            <button class="add-new-btn" onclick="openProjectModal()"><i class="fas fa-plus"></i> Add Project</button>
            <div class="projects-grid" id="projectsGrid"></div>
        </div>
    </section>

    <section id="blogs">
        <div class="container">
            <h2 class="section-title">Latest Blogs</h2>
            <button class="add-new-btn" onclick="openBlogModal()"><i class="fas fa-plus"></i> Add Blog</button>
            <div class="blogs-grid" id="blogsGrid"></div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="social-links" id="footerSocial" style="margin-bottom: 20px;"></div>
            <p>&copy; 2025 <span id="footerName">Mamata Yadav</span>. All rights reserved.</p>
        </div>
    </footer>

    <div class="modal" id="homeModal">
        <div class="modal-content">
            <h2><i class="fas fa-user-edit"></i> Edit Profile</h2>
            <form id="homeForm" onsubmit="saveHome(event)">
                <div class="form-group"><label>Full Name</label><input type="text" id="homeName" required></div>
                <div class="form-group"><label>Title/Role</label><input type="text" id="homeTitle" required></div>
                <div class="form-group"><label>Profile Description</label><textarea id="homeDesc" required></textarea></div>
                <div class="form-group"><label>Profile Image URL (optional)</label><input type="url" id="homeImage" placeholder="https://example.com/photo.jpg"></div>
                <div class="form-group"><label>Email</label><input type="email" id="homeEmail" required></div>
                <div class="form-group"><label>LinkedIn URL</label><input type="url" id="homeLinkedin" required></div>
                <div class="form-group"><label>GitHub URL</label><input type="url" id="homeGithub" required></div>
                <div class="form-group">
                    <label>Education (separate entries with blank line)</label>
                    <textarea id="homeEducation" style="min-height: 120px;" placeholder="Masters in Data Science&#10;Stanford University | 2021-2023&#10;&#10;Bachelor in Computer Science&#10;MIT | 2017-2021"></textarea>
                </div>
                <div class="form-group">
                    <label>Experience (separate entries with blank line)</label>
                    <textarea id="homeExperience" style="min-height: 120px;" placeholder="Senior Data Scientist&#10;Google | 2023-Present&#10;&#10;Data Analyst&#10;Microsoft | 2021-2023"></textarea>
                </div>
                <div class="form-group">
                    <label>Skills (comma separated)</label>
                    <textarea id="homeSkills" placeholder="Python, R, SQL, Machine Learning, Deep Learning, TensorFlow"></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn" onclick="closeHomeModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save Profile</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal" id="projectModal">
        <div class="modal-content">
            <h2 id="projectModalTitle">Add Project</h2>
            <form id="projectForm" onsubmit="saveProject(event)">
                <div class="form-group"><label>Title</label><input type="text" id="projectTitle" required></div>
                <div class="form-group"><label>Category</label><input type="text" id="projectCategory" value="Machine Learning"></div>
                <div class="form-group"><label>Description</label><textarea id="projectDesc" required></textarea></div>
                <div class="form-group"><label>Skills (comma separated)</label><input type="text" id="projectSkills" placeholder="Python, TensorFlow, Neural Networks"></div>
                <div class="form-group"><label>GitHub URL</label><input type="url" id="projectGithub" required></div>
                <div class="form-actions">
                    <button type="button" class="btn" onclick="closeProjectModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal" id="blogModal">
        <div class="modal-content">
            <h2 id="blogModalTitle">Add Blog</h2>
            <form id="blogForm" onsubmit="saveBlog(event)">
                <div class="form-group"><label>Title</label><input type="text" id="blogTitle" required></div>
                <div class="form-group"><label>Excerpt (Short Description)</label><textarea id="blogExcerpt" required></textarea></div>
                <div class="form-group"><label>Full Content</label><textarea id="blogContent" style="min-height: 200px;" required></textarea></div>
                <div class="form-group"><label>Date</label><input type="text" id="blogDate" value="Jan 2025"></div>
                <div class="form-actions">
                    <button type="button" class="btn" onclick="closeBlogModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal" id="blogViewModal">
        <div class="modal-content">
            <h2 id="blogViewTitle"></h2>
            <p id="blogViewDate" style="opacity: 0.7; margin-bottom: 20px;"></p>
            <div id="blogViewContent" style="line-height: 1.8; white-space: pre-wrap;"></div>
            <div class="form-actions" style="margin-top: 30px;">
                <button class="btn btn-primary" onclick="closeBlogViewModal()"><i class="fas fa-times"></i> Close</button>
            </div>
        </div>
    </div>

    <script>
        const PASS = '240be518fabd2724ddb6f04eeb1da5967448d7e831c08c8fa822809f74c720a9';
        let isEditMode = false, editingProjectId = null, editingBlogId = null;

        async function hashPassword(p) {
            const b = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(p));
            return Array.from(new Uint8Array(b)).map(x => x.toString(16).padStart(2, '0')).join('');
        }

        const defaultData = {
            name: 'Mamata Yadav', 
            title: 'Data Scientist & AI Developer',
            desc: 'Passionate about transforming data into actionable insights and building intelligent systems.',
            image: '',
            email: 'mamata@example.com', 
            linkedin: 'https://linkedin.com/in/mamatayadav', 
            github: 'https://github.com/mamatayadav',
            education: ['Masters in Data Science\nStanford University | 2021-2023'], 
            experience: ['Senior Data Scientist\nTech Company | 2023-Present'], 
            skills: ['Python, R, SQL, Machine Learning, TensorFlow']
        };

        let homeData = {...defaultData};
        let projects = [{
            id:1,
            title:'AI-Powered Recommendation System',
            category:'Machine Learning',
            desc:'Built a personalized recommendation engine using collaborative filtering and deep learning techniques.',
            skills:['Python','TensorFlow','Neural Networks'],
            github:'https://github.com'
        }];
        let blogs = [{
            id:1,
            title:'Understanding Deep Learning: A Beginner\'s Guide',
            excerpt:'An introduction to neural networks and how they power modern AI applications.',
            content:'Deep learning has revolutionized the field of artificial intelligence. In this comprehensive guide, we explore the fundamentals of neural networks, backpropagation, and how to build your first deep learning model.\n\nWe\'ll cover topics like activation functions, loss functions, and optimization algorithms that are essential for training neural networks effectively.',
            date:'Jan 2025'
        }];

        async function loadData() {
            try {
                const h = await window.storage.get('pf_home', true);
                const p = await window.storage.get('pf_projects', true);
                const b = await window.storage.get('pf_blogs', true);
                if (h) homeData = JSON.parse(h.value);
                if (p) projects = JSON.parse(p.value);
                if (b) blogs = JSON.parse(b.value);
            } catch(e) { 
                console.log('Using default data'); 
            }
            render();
        }

        async function saveData(k, d) {
            try {
                await window.storage.set(k, JSON.stringify(d), true);
                return true;
            } catch(e) { 
                alert('Save error: ' + e.message); 
                return false; 
            }
        }

        function render() {
            document.getElementById('logoText').textContent = homeData.name;
            document.getElementById('heroName').textContent = homeData.name;
            document.getElementById('heroTitle').textContent = homeData.title;
            document.getElementById('heroDesc').textContent = homeData.desc;
            document.getElementById('footerName').textContent = homeData.name;
            
            const profileImg = document.getElementById('profileImg');
            if (homeData.image && homeData.image.trim() !== '') {
                profileImg.innerHTML = `<img src="${homeData.image}" alt="${homeData.name}">`;
            } else {
                profileImg.innerHTML = '<i class="fas fa-user"></i>';
            }
            
            const social = `
                <a href="mailto:${homeData.email}" title="Email"><i class="fas fa-envelope"></i></a>
                <a href="${homeData.linkedin}" target="_blank" title="LinkedIn"><i class="fab fa-linkedin"></i></a>
                <a href="${homeData.github}" target="_blank" title="GitHub"><i class="fab fa-github"></i></a>
            `;
            document.getElementById('heroSocial').innerHTML = social;
            document.getElementById('footerSocial').innerHTML = social;
            
            document.getElementById('infoCards').innerHTML = `
                <div class="card">
                    <h3><i class="fas fa-graduation-cap"></i> Education</h3>
                    ${homeData.education.map(e => `<div class="card-item">${e.replace(/\n/g, '<br>')}</div>`).join('')}
                </div>
                <div class="card">
                    <h3><i class="fas fa-briefcase"></i> Experience</h3>
                    ${homeData.experience.map(e => `<div class="card-item">${e.replace(/\n/g, '<br>')}</div>`).join('')}
                </div>
                <div class="card">
                    <h3><i class="fas fa-code"></i> Skills</h3>
                    ${homeData.skills.map(s => `<div class="card-item">${s}</div>`).join('')}
                </div>
            `;
            
            document.getElementById('projectsGrid').innerHTML = projects.map(p => `
                <div class="project-card">
                    <button class="edit-btn" onclick="editProject(${p.id})"><i class="fas fa-edit"></i> Edit</button>
                    <button class="delete-btn" onclick="deleteProject(${p.id})"><i class="fas fa-trash"></i> Delete</button>
                    <div class="project-img"><i class="fas fa-brain"></i></div>
                    <div class="project-content">
                        <span class="project-category">${p.category}</span>
                        <h3 class="project-title">${p.title}</h3>
                        <p>${p.desc}</p>
                        <div class="project-skills">${p.skills.map(s => `<span class="skill-tag">${s}</span>`).join('')}</div>
                        <a href="${p.github}" class="btn btn-primary" target="_blank"><i class="fab fa-github"></i> View on GitHub</a>
                    </div>
                </div>
            `).join('');
            
            document.getElementById('blogsGrid').innerHTML = blogs.map(b => `
                <div class="blog-card" onclick="viewBlog(${b.id})" style="cursor: pointer;">
                    <button class="edit-btn" onclick="event.stopPropagation(); editBlog(${b.id})"><i class="fas fa-edit"></i> Edit</button>
                    <button class="delete-btn" onclick="event.stopPropagation(); deleteBlog(${b.id})"><i class="fas fa-trash"></i> Delete</button>
                    <div class="blog-img"><i class="fas fa-blog"></i></div>
                    <div class="blog-content">
                        <h3 class="blog-title">${b.title}</h3>
                        <p>${b.excerpt}</p>
                        <p style="opacity: 0.7; font-size: 0.9rem; margin-top: 10px;"><i class="far fa-calendar"></i> ${b.date}</p>
                    </div>
                </div>
            `).join('');
        }

        function createParticles() {
            const c = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                p.style.left = Math.random() * 100 + '%';
                p.style.top = Math.random() * 100 + '%';
                p.style.animationDelay = Math.random() * 2 + 's';
                c.appendChild(p);
            }
        }

        function requestEditMode() {
            if (isEditMode) {
                isEditMode = false;
                document.body.classList.remove('edit-mode');
                document.getElementById('editModeBtn').classList.remove('active');
                document.getElementById('editModeBtn').innerHTML = '<i class="fas fa-edit"></i> Edit Mode';
            } else {
                document.getElementById('passwordModal').classList.add('active');
                document.getElementById('adminPassword').value = '';
                document.getElementById('passwordError').style.display = 'none';
            }
        }

        function closePasswordModal() { 
            document.getElementById('passwordModal').classList.remove('active'); 
        }

        async function verifyPassword() {
            const h = await hashPassword(document.getElementById('adminPassword').value);
            if (h === PASS) {
                closePasswordModal();
                isEditMode = true;
                document.body.classList.add('edit-mode');
                document.getElementById('editModeBtn').classList.add('active');
                document.getElementById('editModeBtn').innerHTML = '<i class="fas fa-times"></i> Exit Edit Mode';
                alert('Edit mode enabled! All changes will be visible to everyone.');
            } else {
                document.getElementById('passwordError').style.display = 'block';
            }
        }

        function openHomeModal() {
            document.getElementById('homeName').value = homeData.name;
            document.getElementById('homeTitle').value = homeData.title;
            document.getElementById('homeDesc').value = homeData.desc;
            document.getElementById('homeImage').value = homeData.image || '';
            document.getElementById('homeEmail').value = homeData.email;
            document.getElementById('homeLinkedin').value = homeData.linkedin;
            document.getElementById('homeGithub').value = homeData.github;
            document.getElementById('homeEducation').value = homeData.education.join('\n\n');
            document.getElementById('homeExperience').value = homeData.experience.join('\n\n');
            document.getElementById('homeSkills').value = homeData.skills.join(', ');
            document.getElementById('homeModal').classList.add('active');
        }

        function closeHomeModal() {
            document.getElementById('homeModal').classList.remove('active');
        }

        async function saveHome(e) {
            e.preventDefault();
            homeData = {
                name: document.getElementById('homeName').value,
                title: document.getElementById('homeTitle').value,
                desc: document.getElementById('homeDesc').value,
                image: document.getElementById('homeImage').value,
                email: document.getElementById('homeEmail').value,
                linkedin: document.getElementById('homeLinkedin').value,
                github: document.getElementById('homeGithub').value,
                education: document.getElementById('homeEducation').value.split('\n\n').filter(e => e.trim()),
                experience: document.getElementById('homeExperience').value.split('\n\n').filter(e => e.trim()),
                skills: document.getElementById('homeSkills').value.split(',').map(s => s.trim()).filter(s => s)
            };
            const saved = await saveData('pf_home', homeData);
            if (saved) {
                render();
                closeHomeModal();
                alert('✅ Profile updated! Changes are now visible to everyone on all devices.');
            }
        }

        function openProjectModal(p = null) {
            editingProjectId = p ? p.id : null;
            document.getElementById('projectModalTitle').textContent = p ? 'Edit Project' : 'Add Project';
            if (p) {
                document.getElementById('projectTitle').value = p.title;
                document.getElementById('projectCategory').value = p.category;
                document.getElementById('projectDesc').value = p.desc;
                document.getElementById('projectSkills').value = p.skills.join(', ');
                document.getElementById('projectGithub').value = p.github;
            } else {
                document.getElementById('projectForm').reset();
            }
            document.getElementById('projectModal').classList.add('active');
        }

        function closeProjectModal() { 
            document.getElementById('projectModal').classList.remove('active'); 
        }

        async function saveProject(e) {
            e.preventDefault();
            const data = {
                id: editingProjectId || Date.now(),
                title: document.getElementById('projectTitle').value,
                category: document.getElementById('projectCategory').value,
                desc: document.getElementById('projectDesc').value,
                skills: document.getElementById('projectSkills').value.split(',').map(s => s.trim()).filter(s => s),
                github: document.getElementById('projectGithub').value
            };
            if (editingProjectId) {
                projects = projects.map(p => p.id === editingProjectId ? data : p);
            } else {
                projects.push(data);
            }
            const saved = await saveData('pf_projects', projects);
            if (saved) {
                render();
                closeProjectModal();
                alert('✅ Project saved! Visible to everyone now.');
            }
        }

        function editProject(id) { 
            openProjectModal(projects.find(p => p.id === id)); 
        }

        async function deleteProject(id) {
            if (confirm('Delete this project? This action cannot be undone.')) {
                projects = projects.filter(p => p.id !== id);
                const saved = await saveData('pf_projects', projects);
                if (saved) {
                    render();
                    alert('✅ Project deleted!');
                }
            }
        }

        function openBlogModal(b = null) {
            editingBlogId = b ? b.id : null;
            document.getElementById('blogModalTitle').textContent = b ? 'Edit Blog' : 'Add Blog';
            if (b) {
                document.getElementById('blogTitle').value = b.title;
                document.getElementById('blogExcerpt').value = b.excerpt;
                document.getElementById('blogContent').value = b.content;
                document.getElementById('blogDate').value = b.date;
            } else {
                document.getElementById('blogForm').reset();
            }
            document.getElementById('blogModal').classList.add('active');
        }

        function closeBlogModal() { 
            document.getElementById('blogModal').classList.remove('active'); 
        }

        async function saveBlog(e) {
            e.preventDefault();
            const data = {
                id: editingBlogId || Date.now(),
                title: document.getElementById('blogTitle').value,
                excerpt: document.getElementById('blogExcerpt').value,
                content: document.getElementById('blogContent').value,
                date: document.getElementById('blogDate').value
            };
            if (editingBlogId) {
                blogs = blogs.map(b => b.id === editingBlogId ? data : b);
            } else {
                blogs.push(data);
            }
            const saved = await saveData('pf_blogs', blogs);
            if (saved) {
                render();
                closeBlogModal();
                alert('✅ Blog saved! Visible to everyone now.');
            }
        }

        function editBlog(id) { 
            openBlogModal(blogs.find(b => b.id === id)); 
        }

        async function deleteBlog(id) {
            if (confirm('Delete this blog? This action cannot be undone.')) {
                blogs = blogs.filter(b => b.id !== id);
                const saved = await saveData('pf_blogs', blogs);
                if (saved) {
                    render();
                    alert('✅ Blog deleted!');
                }
            }
        }

        function viewBlog(id) {
            const blog = blogs.find(b => b.id === id);
            if (blog) {
                document.getElementById('blogViewTitle').textContent = blog.title;
                document.getElementById('blogViewDate').textContent = blog.date;
                document.getElementById('blogViewContent').textContent = blog.content;
                document.getElementById('blogViewModal').classList.add('active');
            }
        }

        function closeBlogViewModal() {
            document.getElementById('blogViewModal').classList.remove('active');
        }

        window.onclick = function(e) { 
            if (e.target.classList.contains('modal')) {
                e.target.classList.remove('active'); 
            }
        }

        createParticles();
        loadData();
    </script>
</body>
</html>
